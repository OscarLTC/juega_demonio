---
import { cn } from "../../utils/cn";

interface Props extends astroHTML.JSX.InputHTMLAttributes {
  label?: string;
  error?: string;
}

const { label, error, class: className, id, ...rest } = Astro.props;

const inputId = id || rest.name;
---

<div class="w-full">
  {label && (
    <label for={inputId} class="block text-soft-pink text-sm font-medium mb-2">
      {label}
    </label>
  )}
  <div class="relative">
    <input
      id={inputId}
      class={cn(
        "w-full bg-secondary border border-soft-pink rounded-full px-6 py-3",
        "text-white placeholder-charcoal",
        "focus:border-intense-pink focus:outline-none transition-colors",
        className
      )}
      {...rest}
    />
    <slot />
  </div>
  {error && (
    <p class="text-xs text-red-500 mt-2">{error}</p>
  )}
</div>
